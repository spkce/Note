# 单例模式
类型：创建型模式
确保一个类最多只有一个实例，并提供一个全局访问点
单例模式可以分为两种：预加载和懒加载

## 类图

![avatar][Image0]

## 概念代码

```c++
class CSingleton
{
public:
	static CSingleton* instance()
	{
		static CSingleton inst;
		return &inst;
	}
private:
	CSingleton() {}
	virtual ~CSingleton() {}
};
```



[Image0]:data:image/png;base64,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