# 原型模式
类型：创建型模式
定义：通过复制现有实例来创建新的实例，无需知道相应类的信息。

原型模式的本质就是clone，可以解决构建复杂对象的资源消耗问题，能再某些场景中提升构建对象的效率；
还有一个重要的用途就是保护性拷贝，可以通过返回一个拷贝对象的形式，实现只读的限制。
## 类图

![avatar][Image0]

## 概念代码

```c++
class IA
{
	virtual IA* clone() = 0;
};

class CA1 : public IA
{
	virtual IA* clone()
	{
		return this;
	}
};

class CA2 : public IA
{
	virtual IA* clone()
	{
		return this;
	}
};
```


[Image0]:data:image/png;base64,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