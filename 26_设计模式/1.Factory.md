## 工厂模式
类型：创建型模式
定义：定义一个用于创建对象的接口，让子类决定实例化哪一个类。工厂模式将类的实例化延迟到其子类
适用于：
* 当一个类不知道它所必须创建的对象的类的时候
* 当一个类希望有它的子类来指定它所创建的对象的时候
* 当类将创建对象的职责委托给多个帮助子类中的一个，并且你希望将哪一个帮助子类是代理者这一信息局部化的时候

## 类图

![avatar][Image0]


## 概念代码
```c++
class IProduct
{
};

class CProductA : public IProduct
{
};

class CProductB : public IProduct
{
};

class CFactory
{
public:
	IProduct* getProduct(std::string str)
	{
		if (str == "A")
		{
			return new CProductA;
		}
		else if (str == "B")
		{
			return new CProductB;
		}

		return NULL;
	}
};
```


[Image0]:data:image/png;base64,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