
# 着色器
整个着色器的使用流程如下：
1，创建着色器对象 glCreateShader
2，把源码关联到每个着色器对象 glShaderSource
3，编译着色器 4，创建程序 glCompileShader
5，关联着色器到程序对象 glAttachShader
6，链接程序 glCreateProgram
7，激活和关闭着色器程序 glUseProgram
8，删除着色器和程序 glDeleteProgram


# 着色器使用
```c++
//创建着色器
GLint vertSahder,fragShader;//顶点着色器，片元着色器
vertSahder = glCreateShader(GL_VERTEX_SHADER);
fragShader = glCreateShader(GL_FRAGMENT_SHADER);

//着色器源码位置
OGLTextFile vertSources("D://","vert.shader");
OGLTextFile fragSources("D://","frag.shader");
//获取源码内容
OGLString vertText = vertSources.getText();
OGLString fragText = fragSources.getText();
//关联着色器
glShaderSource(vertSahder,1,(const GLchar **)&vertText,NULL);
glShaderSource(fragShader,1,(const GLchar **)&fragText,NULL);

//编译着色器
glCompileShader(vertSahder);
glCompileShader(fragShader);

//这里检查编译是否成功
GLint status;
glGetShaderiv(vertSahder,GL_COMPILE_STATUS,&status);
if(status!=GL_TRUE){
    println("顶点着色器编译失败");
    exit(EXIT_FAILURE);
}
glGetShaderiv(fragShader,GL_COMPILE_STATUS,&status);
if(status!=GL_TRUE){
    println("片元着色器编译失败");
    exit(EXIT_FAILURE);
}
//创建程序
GLuint program;
program = glCreateProgram();

//关联着色器到程序对象
glAttachShader(program,vertSahder);
glAttachShader(program,fragShader);

//链接程序
glLinkProgram(program);
//检查是否链接错误
glGetProgramiv(program,GL_LINK_STATUS,&status);
if(status!=GL_TRUE){
    println("程序链接失败");
    exit(EXIT_FAILURE);
}

//激活着色器程序
glUseProgram(program);

//关闭着色器程序
glUseProgram(0);

//删除着色器和程序
glDeleteProgram(program);
glDeleteShader(vertSahder);
glDeleteShader(fragShader);
```

## 统一变量
OpenGL ES 3.0中的统一变量（Uniform Variables）是着色器编程中用于存储全局常量的特殊变量，其值在渲染过程中保持不变，主要用于顶点着色器和片段着色器之间的数据共享

```c++
void glGetActiveUniform(
    GLuint program,     // 目标着色器程序对象
    GLuint index,       // 统一变量的索引（0到GL_ACTIVE_UNIFORMS-1）
    GLsizei bufSize,    // 名称缓冲区的最大长度
    GLsizei *length,    // 返回实际写入的字符数（不含终止符）
    GLint *size,        // 返回数组大小（标量变量为1）
    GLenum *type,       // 返回数据类型（如GL_FLOAT_VEC3）
    GLchar *name        // 存储变量名的缓冲区
);
```
查询所有的统一变量
```c++
GLint numUniforms;
glGetProgramiv(program, GL_ACTIVE_UNIFORMS, &numUniforms);
for (GLuint i = 0; i < numUniforms; i++) {
    GLchar name[256];
    GLint size;
    GLenum type;
    glGetActiveUniform(program, i, sizeof(name), NULL, &size, &type, name);
    // 处理变量信息...
}
```

